day 1>
first day 15/2/25

-> we create react and node js folder 
-> we go with install process of react by folowing command
"npx create-react-app ."
<!-- node folder -->
-> next go to node folder and write followig cmd to intialize package.json file
"npm init"
create inside that a file with name index.js

->> ro check the index.js inside part is running or not simple go terminal
"node index.js"

to get direct run without and node index.js writing simply go to package.json file make change inside script pacakgename 
"start": "node index.js"

<--node js file includes mostly ann apis to fetch data etc-->

to run on server we take express to use  ,,, so go to express site 
its an node.js backend 
[text](https://expressjs.com/en/starter/installing.html)

after that go to getttin started


<!-- <<terminal work>> -->
npm install express #1

<!-- <after that to create a serve we need to write something like this> -->
const express = require('express')
const app = express()
const port = 3000

app.get('/', (req, res) => {
  res.send('Hello World!')
})

app.listen(port, () => {
  console.log(`Example app listening on port ${port}`)
})

//write or paste inside index.js file
after that run on terminal
"npm start"

<!-- " go to chrome or edge to check write a localhost:3000 " -->

do some changes in code
const express = require('express')
const app = express()
const port = 3000

app.get('/ap', (req, res) => {
  res.send('Hello World! vfhbfh')
})

app.listen(port, () => {
  console.log(`Example app listening on port ${port}`)
})

And run again the server

in node  
npm start //runn by node script 

<!-- Go to react-app folder -->
in react npm start
//run by react script

get known about all files and folder


16/02/25

<!-- Time Of OLx video after 17.05 of long video of sahif-->

<! some error came in betwween running phase of react app -->
so i simple process follow to delete all project and reinstall all by 
 npx create-react-app . same!!


 -> simple devloper says what is componenets so  which use again and again or reuseable...


 -> create a folder of name component , inside that 

 1.Header.jsx
 2.Header.css

 ---and import thmr inside app.js

 and app.js wala part call in in index.js file
<!-- eg:- onst root = ReactDOM.createRoot(document.getElementById('root'));
root.render(
  <React.StrictMode>
    <App />
  </React.StrictMode>
);

 --> after import a header file and use inside function, need to write code inside header.jsx otherwise blank o/p

now for styling we go chrome or edge to search "box shadow example"

--) go to header and do change to inside header div give classname and change eg following
<!-- eg: <div className="header">
            <h1>Sell & Purchase ONLINE.... in your city</h1>
        </div>

 --> now create a file with name 
 2.Header.css
--} import thrm into header.jsx
<!-- eg: import './Header.css' -->


so some changes in header.csss file like add color,height add side design by coping the code for link which we 

add span tag at header inside second div with classname='mt-3'
so ass simple some change in css of header
<!-- eg:
.header{
    height: 50px;
    /* height of text */

    color: blueviolet;
    /* color of text */

    /* box-shadow: rgba(50, 50, 93, 0.25) 0px 2px 5px -1px, rgba(0, 0, 0, 0.3) 0px 1px 3px -1px; */

    box-shadow: rgba(50, 50, 93, 0.25) 0px 30px 60px -12px inset, rgba(0, 0, 0, 0.3) 0px 18px 36px -18px inset;
    /* for side design */
}
.mt-3{ 
    /* span walaa part  */
    display: inline-block;
    margin-top: 10px;
}

--> next steps is create home page file inside componet folder to create
1.Home.jsx 
so simple import and us eprocess as same oh!!
28.40

--> serach for react router dom for ig header "its is used for mutlipage we use router"
not get the proper code for that so!!

17/02/25
simple what happen we just copy same url as youtube to get the same code 
[text](https://reactrouter.com/6.28.0/start/overview)

okh next go with video at 00.02
<!-- // const root = ReactDOM.createRoot(document.getElementById('root'));
// root.render(
//   <React.StrictMode>
//     <App />
//   </React.StrictMode>
// );

// above part is replaced by below code --> this code which remove fr index.js

// If you want to start measuring performance in your app, pass a function
// to log results (for example: reportWebVitals(console.log))
// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals

so as simple some change done in index.js file and its hits different
ERROR in ./src/index.js 8:0-84
Module not found: Error: Can't resolve 'react-router-dom' in 'C:\Users\Om\OneDrive\Desktop\React\react-appp\src'

webpack compiled with 1 error and 1 warning

following above error is showing to fix terminal need to install react router,we need for raect
3 1 : 2 4 #1
<!-- npm i react-router-dom --> this command for installation of router-dom


<!-- after running -->
what actually happen its create a about page like when we click on about us its return about us page simple!!!

<!-- some error is not slove yrth at midninght so lets sleep for noowwwww -->

after fixing error by npm audit fix --force
we go wth run code flow?

so simple import home components in index.js file and go on!!
and so simple coode of folloowing given!
example:-
import Home from "./components/Home";  // Import the Home component

const router = createBrowserRouter([
  {
    path: "/",
    element: (<Home />),
  },
  {
    path: "about",
    element: <div>About</div>,
  },
]);
<!-- 
so as ouput webapage if we use /about -> so about page will be show !
and if normal '/' used so home page shows as output
ok simple!! -->

17-02-25

so our header components is not showing so just import in home components  and use before h1 tag inside the div.....

simple one use same folder './Header'
if outside the folder '../Header'

<!-- sooo simple get header as above of the home tag -->
we need login in page in header...
so in folder of componenets in Header we create a link tag for login and import its 
eg:--
import { Link } from "react-router-dom";
<!-- on top we import like bove -->
 <Link to="login"> LOGIN</Link>
 <!-- after header div Link -->

 ===> o/p get login link in header simple !!

 simple create a new file with the name login 

 now do changes as give path in index.js file of login and import it..
 and add"/" in header file where we link login page otherwise its render login login again again !!


 next 1 8 0 2 2 5

 <!-- for login and signup we create an api  -->
 go to login file..
 create simple button and two input tag one link tag for login
 create simple button and two input tag one link tag for singup

 register the signup in index.js same as login and home..

 as output  i face anerror soo as soon i try to clear that {} okk!!

 now go to header file crete link before login page to home..
 go index.js and do change "/ after this add home..

 <!-- SHORT KEY TO   drag select all drag tags and alt+ uparrow or down arrow -->

 #1 otiy

 #2 Commencer with node js foler index.js file run on port!!!

 so next tagrt login key and signup key!!

 before that we want a database so we use mongo!!
<!-- database use for save our data in database -->
2 way to use install on local otherwise go with url 
<!-- just small url change whn use in code!1 that we see further -->
as go for installtion we need 718 mb...
and url just singup and started 
following steps...
<!-- 
Use MongoDB with a URL (MongoDB Atlas - Cloud Database)
If you want to use MongoDB without installing locally, you can use MongoDB Atlas (a cloud-based database).

Steps to Use MongoDB Atlas
Go to MongoDB Atlas and sign up.
Create a New Cluster (Choose Free Tier).
Create a Database & User (Set username & password).
Get Connection String
Go to Clusters ‚Üí Connect ‚Üí Choose "Connect your application".
Copy the connection URL, which looks like:
sh
Copy
Edit
mongodb+srv://<username>:<password>@cluster0.mongodb.net/<dbname>?retryWrites=true&w=majority
Connect from a Node.js App
Install MongoDB package in your project:
sh
Copy
Edit
npm install mongoose
Use this in your code:
js
Copy
Edit
const mongoose = require('mongoose');

mongoose.connect('mongodb+srv://<username>:<password>@cluster0.mongodb.net/<dbname>?retryWrites=true&w=majority', {
  useNewUrlParser: true,
  useUnifiedTopology: true,
}).then(() => console.log('MongoDB Connected'))
.catch(err => console.log(err)); -->
[text](https://cloud.mongodb.com/v2/67b4da205dcb437f7a5562ec#/setup/personalization)
<!-- complete the setup oo MongoDB On Url siteeeeeee-->

now go to index.js file!!
<!-- 
// we get data frm frontend so we give name as signup
app.post('/signup', (req, res) => {
  const username  = req.body.username;
  const password = req.body.password; 

}) -->
simply the post method takes two thinks
1 url , 2 method(req and response)

so above code work to get usename and paswword and save in database 

<!-- to connect databse we use mongoDB -->
go url side
[text](https://mongoosejs.com/)
T = 3.00
<!-- 
// we get data frm frontend so we give name as signup
// for testing purpose we change in post int get and some username randomly and password randomly
app.get ('/signup', (req, res) => {
// app.post('/signup', (req, res) => {
  const username  = req.body.username;
  const password = req.body.password; 
  // const user = new Users({ username: username, password: password }); // to connect with database and for that we need to import moogness we use pacaKGE OF MOONGOOSE FOR WEBSITEE

  const user = new Users({ username: 'ommom', password: 'pass' });
  user.save().then(() => console.log('User created'));

}) -->

its simople a libary to connect data with databse 

steps: copy first 2 lines and paste it after first lines!!
2: const Users = mongoose.model('Users', { username: String, password: String });
<!-- change as copy after this const Cat = mongoose.model('Cat', { name: String }); -->

3 cpy second last line
<!-- const kitty = new Cat({ name: 'Zildjian' }); changes this into...! -->

const user = new Users({ username: username, password: password });
this cahnge by cpy above code and pastre afer body code!

simply auto complete come automaticallly so no worries!!!
\for testing on browserrr

// for testing purpose we change in post int get and some username randomly and password randomly



after that change locathost to 4000 beacuse 300 used for react

t = 8 3 0
<!-- 
const mongoose = require('mongoose');
mongoose.connect('mongodb://127.0.0.1:27017/test',(err) => {
  if(!err) {
    console.log('connected to mongodb');
  } else {
    console.log('error in connection', err);
  }
}); --> this code commonly used for each api so its define after import and the connect method takes two this a url and api

/-/ for now we are writing code one file only so its not valid or not okh so just further we move so wdivivde into diff diff file each code ookh!!

 <!-- npm i nodemon   // used need if we run server again and again so save and run automicall node okh -->

 some changes in package.json to npm erun dev wala funda
 "start": "node index.js",
    <!-- "dev": "nodemon index.js" -->

so as we bac with 21225

now mongodb setup and singup with continue with googlr and simply steps need to follow
1.mongo cloud (try free)/(create a cluster)
2.some finsh and save method
3.network access
4.go to quick start.(copy username and password) [url connection bas]-finish and close
5.click on connect in  quick start in (click on connect to your application and copy url)
<!-- mongodb+srv://omn2068:<db_password>@cluster0.vr8ns.mongodb.net/?retryWrites=true&w=majority&appName=Cluster0 --> we get this url..

so ccontinue with video...

as we change in url to render dataa in mogodb databse 
<!-- mongoose.connect('mongodb://mongodb+srv://omn2068:vIjvtcrKCuG2wX0J@cluster0.vr8ns.mongodb.net/?retryWrites=true&w=majority&appName=Cluster0',(err) => { -->

ater all setup
run it once.......
so error to solve this we need to remove if condition after url and its lok ike after changes isss..
<!-- mongoose.connect('mongodb://mongodb+srv://omn2068:vIjvtcrKCuG2wX0J@cluster0.vr8ns.mongodb.net/?retryWrites=true&w=majority&appName=Cluster0') -->

next try again to run the file 
<!-- npm run dev -->

so commment some req for userandpass..
bass kam pachis errror faced to typical password 
<!-- solution just terminate acluster free wala and again create it  -->

so after that we are gettting the o/p

simple to check our code data is stor in database of mongo or no not go to cluster and in abovee option slect colllection see

simply waht i did to solve the dtaabse stored problem just type eror in chatgpt and just run the serve and change the ci=ode with chatgpt code and after that we are succesfully created our databae /Lets see with old code 
<!-- go to o/p page and after 4000/signup to msg render in terminal okh... --> so its working 

<!-- 
// const express = require('express');
// const mongoose = require('mongoose');

// const app = express();
// const port = 4000;

// // Middleware to parse JSON
// app.use(express.json());

// // Connect to MongoDB with error handling
// mongoose.connect('mongodb+srv://omssn21:om212006@cluster0.vr8ns.mongodb.net/myDatabase?retryWrites=true&w=majority&appName=Cluster0')
//   .then(() => console.log('MongoDB connected!'))
//   .catch(err => console.error('MongoDB connection error:', err));

// // Define User Model
// const Users = mongoose.model('Users', { username: String, password: String });

// // Root route
// app.get('/', (req, res) => {
//   res.send('Hello World!');
// });

// // Signup route (test mode)
// app.get('/signup', async (req, res) => {
//   try {
//     const user = new Users({ username: 'ommom', password: 'pass' });
//     await user.save();
//     console.log('User created');
//     res.send('User created successfully!');
//   } catch (error) {
//     console.error('Error creating user:', error);
//     res.status(500).send('Internal Server Error');
//   }
// });

// // Start the server
// app.listen(port, () => {
//   console.log(`Example app listening on port ${port}`);
// }); -->


<!-- {"_id":{"$oid":"67b8c9f13232e3bfa9bc3e4d"},"username":"ommom","password":"pass","__v":{"$numberInt":"0"}} - this output we getttt.. in mongodb cloud -->


as w known we don't to do hardcode so we need to take data from user so some changes in node ffolder inside index.js file

<!-- // so simple react folder is for frontend and for backennd node folder -->


<!-- cltr + shift + p = color change   -->


<!-- As  22--2--25 -->

go to node file and index.js change the console wala part after the username and password
like
<!-- 
 const user = new Users({ username: 'ommom', password: 'pass' });
  user.save()
  .then(() => {
    res.send({message : 'User created'})
  })
  .catch(() => {
  res.send({message: 'Error'});  
  });
})   -->

$ so after that sone error i face d a error which i try to solved wit ai
set mongodb url and copy paste in notepad..

$after  that again we start the server to check the usr is created or not now the msg will show on server

$ go and check mongo to ur user data is created...(colloection>cluster)
ok don>>>

% now i thinkk i run it multiple time so ist swill save again agin yes because it was a get api

changes get with post api now the signup page after 4000 port not run.....done........

so post api call in frontend ..

post key and get key api for differnt use get to user created oon node nly and post fro take input from frontend

@-@

# REact page 

come to signup pagge in frontend main partt

so simple what we want to get when we click on signup in fronted thee datr need to be stored in backend so for the we neeed to change in signup code file  by creating a set so simple ...

so for save in state we wnt to create state..

waht is state ?
% state variable local if variable if changs its update but normal variable change not state upadte 

<changes in fieleee>
  % const [username, setUsername] = useState("haaaaaa //so its will show as output a hhaah on place on usrname w give as null"); // we are creating a state


<input type="text" value={username} 
      onChange={(e) => {
        console.log(e.target.value)  // we are getting the value from the input field
      }}/>
for check by inspect we get console what happeing..

so simpply at  27:00 what we did we change it in code by creating const for pass,username using state 
and add after value and onchange 
example:
  % const [username, setUsername] = useState(""); // we are creating a state
  % const [password, setPassword] = useState(""); // we are creating a state   
  % console.log({username , password});  // we are printing the username & password
  %  <input type="text" value={username} 
  %     onChange={(e) => 
  %     setUsername(e.target.value)
  %     }/>
  %     <br />
  %     PASSWORD
  %     <input type="password" value={password} 
  %     onChange={(e) =>
  %     setPassword(e.target.value)
  %     }


% after fina all changes we will paste a code 

import Header from './Header';
import { Link } from "react-router-dom";
import { useState } from "react";
function Signup() {

  const [username, setUsername] = useState(""); // we are creating a state
  const [password, setPassword] = useState(""); // we are creating a state   
  console.log({username , password});  // we are printing the username & password

  return (
    <div>
      <Header />
      <h1>SignUp</h1>
      <br />
      USERNAME
      <input type="text" value={username} 
      onChange={(e) => 
      setUsername(e.target.value)
      }/>
      <br />
      PASSWORD
      <input type="password" value={password} 
      onChange={(e) =>
      setPassword(e.target.value)
      }
      />
      <br />
      <button>SignUP</button>
      <Link to ='/login'><button>Login</button></Link>
    </div>
  );
}   
export default Signup;    


so simply we go from now , when we click on signup it need to go data in backend ... for that we need to coonect with api

for connetion go to react folder by cd command and insatll 

npm i axios:- uses is simple
% % Axios is a popular library for making HTTP requests in JavaScript applications, including React. Here‚Äôs why it‚Äôs useful:
% 1. Easy to Use,2. Automatic JSON Handling,3. Supports Request & Response Interceptors,4. Error Handling,5. Supports Canceling Requests,6. Automatic Timeout Handling,7. Supports File Uploads
% When to Use Axios?
% ‚úÖ When working with APIs that return JSON data
% ‚úÖ When you need advanced error handling
% ‚úÖ When sending authentication tokens
% ‚úÖ When handling file uploads
% ‚úÖ When making requests from Node.js


after getting info from online 

30.3

we need to work on code in signup page of react 
inn signup button add onclick=({handleApi}) , and import axios 
create const after the const password and console part cut and paste inside const handleapi..

here we stop .... 30.43 v

01:36....am

% 230225

11.44 PM 
as per the book we go in singupp page in frontend
% const handleApi = () => {
%     console.log({username , password});// we are printing the username & password
%     const URL = "http://localhost:3001/signup";
%     const data = {username,password};
%     axios.post(URL,data)
%     .then((res) => {
%       console.log(res);
%     })
%     .catch((err) => {
%       console.log(err);
%     });
  % }

  this changes we made ... froo connect with backend..

  % so as we done we run react to enter and usrname and password on frontend page so after click the usename and password is saved  but error showss.. in inscept console (both frontend and backend are running on differnrt hostt)

  for connect in one we use cors package..
  % search npm cors

  after installation we go index.js file


@-@

# Node js
indexjs
1- as the website code copy paste 

2- after all changes i paste here..

% const express = require('express')
% const cors = require('cors')
% const app = express()


% app.use(cors())

% const port = 4000

% so after each time run it sface erro crashed wala

so after that we go to check  in mongdb our data is store or not so let's cehck it out..

for ruuunig on console only we do changes in 
we write code for req sned after signup and return in terminal only..

after clicking on button signup w get on terminal data 

% app.post ('/signup', (req, res) => {
%   console.log(req.body);
%   return;
run it simpply but undefined data because after click 
not come inside body to pass inside body we use package body-parser

1. install in node folder

or simply scroll down and we can use json code to from simply for futher images its not work..

so all type api request acceppt then cors
and all type of data accept then pass error

% simply cahnges in code..

% so now we can click on frontend sihgnup button then it show data in terminal api return data in terminal by installing cors and boy-parse
Example app listening on port 4000
{ username: 'suniye1@gmail.com', password: '12345678@' }


% const bodyParser = require('body-parser')
% const app = express()
% app.use(bodyParser.json())
% app.use(bodyParser.urlencoded({ extended: false }))
% app.use(cors())

2- % so normally we again make changes in code like remove return and uncomment the request wal part and rmove the pass data with request name (index.js)
 return;
  const user = new Users({ username: 'twetytwo25', password: 'pass' });


% simply waht is its like simple api fro now beacuse in futher we need to create like if user is signup then they cannont signup again


3- run and check its going t data in dtabase (mongodb)
yaaa we are getting ittt...


@-@

# REact page 

go to signup page and do chnge in code..

%  .then((res) => {
%       console.log(res.data);
%       if(res.data.message === 'User created'){
%         alert('User created');
%       }
%     })
%     .catch((err) => {
%       console.log(err);
%       alert('SERVer ERR')
%     });
%   }

///after this change if user created then alert msg come and data will store in backend////

................
% so now its time to go on login page.././././
................

@-@

# Node js
indexjs

1- copy signup api code and paste it again afterrr the signup api code ends
2- do ittttt

% // we get data frm frontend so we give name as login

% app.post ('/login', (req, res) => {
%   console.log(req.body);
%   const username  = req.body.username;
%   const password = req.body.password; 

%   user.findOne({username: username})  

%   .then(() => {
%     res.send({message : 'Find User'})
%   })
%   .catch(() => {
%   res.send({message: 'Server Error'});  
%   });
% })  


@-@

# REact page

1.LoginPage.jsx

2.changs

% import Header from './Header';
% import { Link } from "react-router-dom";
% import { useState } from "react";
% import axios from "axios";

% function Login() {

%   const [username, setUsername] = useState(""); // we are creating a state
%   const [password, setPassword] = useState(""); // we are creating a state

%   const handleApi = () => {
%     console.log({username , password});// we are printing the username & password
%     const URL = "http://localhost:4000/login";
%     const data = {username,password};
%     axios.post(URL,data)
%     .then((res) => {
%       console.log(res.data);
%       if(res.data.message === 'User created'){
%         alert('User created');
%       }
%     })
%     .catch((err) => {
%       console.log(err);
%       alert('SERVer ERR')
%     });
%   }


%   return (
%     <div>
%       <Header />
%       <h1>Login</h1>
%       <br />
%       USERNAME
%       <input type="text" value={username}
%       onChange={(e) =>{
%         setUsername(e.target.value)
%       }}
%       />
%       <br />
%       PASSWORD
%       <input type="password" value={password}
%       onChange={(e) => {
%         setPassword(e.target.value)
%       }}
%       />
%       <br />
%       <button onClick={handleApi}>LOGIN</button>
%       <Link to ='/signup'><button>SIGNUP</button></Link>
%     </div>
%   );
% }   
% export default Login;    



@-@

# Node js
indexjs

changes in code 
.then((result) => {
    console.log(result  ,"userData");
    res.send({message : 'Find User'})
  })


after chanhes we dont get result bouut data we get....
 
55.00 v
240225-01.06


after  üåÖ‚òïüåû

so started with an error in connecton with api and some code changes in index.js after that weith the help of ai we solve an run succesfullly working login and signup button

% index.js 

Users.findOne({username: username})


output
% { username: 'omn@gmail.com', password: '1234554321@' }
% {
%   _id: new ObjectId('67bb732576f94ffd80a10421'),
%   username: 'omn@gmail.com',
%   password: '1234554321@',
%   __v: 0
% } userData

.........

% cahnges for usser not found with if condition in code in index.js

in login in inside login in index.js

.then((result) => {
    console.log(result  ,"userData");
    if(!result){
      res.send({message : 'User not found'})
    }


-----------Now go and check for user NOt found and other msg in alter--------------
..............üèÉ‚Äç‚ôÇÔ∏è

% // simply some sorted out things and run well //

% so if user exists then we give a tokennn for that we neeed to install package 

% wha it is ? its is simple give a number to that user
search üîç : - jsonwebtoken
[text]üîó(https://www.npmjs.com/package/jsonwebtoken)

insatll..... in node folder 

@-@

# Node js
index.js

% changes in code by website
jwt.sign({
  data: 'foobar'
}, 'secret', { expiresIn: 60 * 60 });


% index.js

const jwt = require('jsonwebtoken');


@-@

# REact page

/*
then((res) => {
      console.log(res.data);
      if(res.data.message === 'User created'){
        if(res.data.token){ 
          localStorage.setItem('token', res.data.token);
          alert('Login Successful');
        }
        alert('User created');
      }
*/

% changes in code.... in login.jsx


% üß†üí• two type of api secure and unsecure

now what is after login go to home page............


% home.jsx

home page for a signup & login page.... different
abd the admin wala manus to accept changes and all..

so in login.jsx ki add after token navigate()
and initlize

navigate() is type of react-dom
so go and do changesss  üòÜ   üèÉ‚Äç‚ôÇÔ∏è
in login.jsx

import Header from './Header';
import { Link ,//-useNavigate } from "react-router-dom";
import { useState } from "react";
import axios from "axios";

function Login() {
 //-const navigate = useNavigate();
  const [username, setUsername] = useState(""); // we are creating a state
  const [password, setPassword] = useState(""); // we are creating a state

  const handleApi = () => {
    console.log({username , password});// we are printing the username & password
    const URL = "http://localhost:4000/login";
    const data = {username,password};
    axios.post(URL,data)
    .then((res) => {
      console.log(res.data);
      if(res.data.message){
        alert(res.data.message);
        if(res.data.token){
          localStorage.setItem('token',res.data.token);
          //-navigate('/');
        }
      }
    })
    .catch((err) => {
      console.log(err);
      alert('SERVer ERR')
    });
  }


  return (
    <div>
      <Header />
      <h1>Login</h1>
      <br />
      USERNAME
      <input type="text" value={username}
      onChange={(e) =>{
        setUsername(e.target.value)
      }}
      />
      <br />
      PASSWORD
      <input type="password" value={password}
      onChange={(e) => {
        setPassword(e.target.value)
      }}
      />
      <br />
      <button onClick={handleApi}>LOGIN</button>
      <Link to ='/signup'><button>SIGNUP</button></Link>
    </div>
  );
}   
export default Login;    
all changesss



//- is define as cahnge part in whole code


now question is how we get known ki logined user or not so with the help of token we decide what doo  
to shown in header 

% header.jsx
import React from "react";
import './Header.css'
//import { Link , useNavigate } from "react-router-dom";
function Header () {
  
 // const navigate = useNavigate();

 // const handleLogout = () => {
    localStorage.removeItem('token');
    navigate('/login');
  }
  return (
    <div>
        <div className="header">
            <Link to="/home">HOME</Link>

            <span className="mt-3">Sell & Purchase ONLINE.... in your city</span>

            //{!localStorage.getItem('token') ?
            <Link to ='/login'> LOGIN </Link>:
            <button onClick={handleLogout}> LOGOUT </button> }
        </div>
    </div>
  );
};

export default Header;


changes in code of header...

the stop 17:57,240225
1:16:00 üõë‚è∏Ô∏è 


@-@

# REact page
 
% 2602225
as we back wit pushing code and slove and lost of error okh from this we create new folder for push into reppoo afte 2 hrs we back to try complet 30 mn

so we waant to change in home page 

% import { useEffect } from 'react';
% import Header from './Header';
% //import { useNavigate } from 'react-router-dom';
% function Home() {

%   //const navigate = useNavigate()
%   /Z*useEffect(() => {
%     if(!localStorage.getItem('token')){
%       navigate('/login')
%     }
%   *//})

%   return (
%     <div>
%       <Header />
%       <h1>Home</h1>
%     </div>
%   );
% }   
% export default Home;    

//:- changes part....
so simply without login the cannot shows an home page..

finally try to run its working now!!

so 2 ghosti zlattt

next ghost seller ko login and prduct fetch and data store (product) in database

% -----go to homepage.jsx to changes

% <Link to="/add-product"> ADD PRODUCT </Link>
After this change output we get error because we dont create any kind of link so now?

so in import after use navigate add a link 
% import { useNavigate , Link} from 'react-router-dom';
1 so above this will return a link for add product in webapge

2 now create component for that..
AddProduct.jsx

3 copy home page code and paste because simply some smae think that soo

4.code changes
% import { useEffect } from 'react';
% import Header from './Header';
% import { useNavigate } from 'react-router-dom';
% function AddProduct() {

%   const navigate = useNavigate()
%   useEffect(() => {
%     if(!localStorage.getItem('token')){
%       navigate('/login')
%     }
%   })

%   return (
%     <div>
%       <Header />
%       product page
%     </div>
%   );
% }   
% export default AddProduct;    

5.link in index.js in react-app
{
    path: "/add-product",  
    element: (<AddProduct/>),  
  },

  and now yu can see product page by clicking 


6 css is not looking like good so simply what to do 
use bootstrap....
go on site

% npm i bootstrap@5.3.3  ---- install on terminal

[text]üîó(https://getbootstrap.com/)

simply copy the link and in react-app in public folder go and paste in index.html

% <title>React App</title>
%     <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
%   </head>

okhhhhh üöÄüé®

now we can use claases of bootstarp

7 go to bootstarp site and serach for from control
[text]üîó(https://getbootstrap.com/docs/5.3/forms/form-control/)

so we just copy classnaem for useing themin our code
% class="form-control" // we use className = 'form-control' in addproduct.jsx >input
now css look haahahahüíª‚ú®

8 changee in add product only/code changes

.... final changesd in code üíª ......
import { useEffect, useState } from 'react';
import Header from './Header';
import { useNavigate, Link } from 'react-router-dom';
function AddProduct() {

    const navigate = useNavigate()
    const [pname , setpname] = useState('')
    const [pdesc , setpdesc] = useState('')
    const [price , setprize] = useState('')
    const [category , setcategory] = useState('')
    
    useEffect(() => {
        if (!localStorage.getItem('token')) {
            navigate('/login')
        }
    })

    return (
        <div>
            <Header />
            <div className='p-3'>

                <h2>ADD PRODUCT HERE :</h2>
                <label> Product Name</label>
                <input className="form-control" type="text" />
                <label> Product Description </label>
                <input className="form-control" type="text" />
                <label> Product Prize </label>
                <input className="form-control" type="text" />
                <label> Product Category </label>
                <input className="form-control" type="text" />
                <select className="form-control">
                    <option> Book</option>
                    <option> Newspaper </option>
                    <option> Bottle </option>
                    <option> Bucket</option>
                    <option> Clothes </option>
                </select>
                <button className="btn btn-primary mt-3"> Sumbit </button>
            </div>
        </div>
    );
}
export default AddProduct;    


so waht is happeing simply we need use a boootstrap for classname purpose to css yaa yaaüîçüêû
in mid of code we use states so go on....üßë‚Äçüíª

//as simple we can give stat aby kind of name ..

//after create state from each label we go with link part above code is pasted till state ..

simpply image fuction now we added like input and label wla part fro image and sa,e copde...

 <input className="form-control" type="file" onChange={(e) => {setpimg(e.target.value)}}/>

 small chnage for checking is on change after we print console like this
%  console.log(e.target.files)
<input className="form-control" type="file" onChange={(e) => {setpimg(e.target.files[0])}}/>
change babyy............üë∂

after cool changes we just do ki just all part of what handle api pass inside that by nae fromData

.code
 
    % const handleApi =() => {

    %     const fromData = new FormData();
    %     fromData.append('pname',pname)
    %     fromData.append('pdesc',pdesc)
    %     fromData.append('price',price)
    %     fromData.append('category',category)
    %     fromData.append('pimg',pimg)


    % }


import axios 

after that we fix erroo with captilot and  just go on with flow and ow e check fronrtend is working

.code
% import { useEffect, useState } from 'react';
% import Header from './Header';
% import { useNavigate, Link } from 'react-router-dom';
% import axios from 'axios';
% function AddProduct() {

%     const navigate = useNavigate();
%     const [pname , setpname] = useState('');
%     const [pdesc , setpdesc] = useState('');
%     const [price , setprize] = useState('');
%     const [category , setcategory] = useState('');
%     const [pimg , setpimg] = useState('');

%     useEffect(() => {
%         if (!localStorage.getItem('token')) {
%             navigate('/login')
%         }
%     })
    
%     const handleApi =() => {

%         const fromData = new FormData();
%         fromData.append('pname',pname)
%         fromData.append('pdesc',pdesc)
%         fromData.append('price',price)
%         fromData.append('category',category)
%         fromData.append('pimg',pimg)
        
%         const url = ''
%         axios.post(URL,fromData)
%         .then((res) => {
%           console.log(res)
%         })
%         .catch((err) =>{
%             console.log(err)
%         })

%     }
%     return (
%         <div>
%             <Header />
%             <div className='p-3'>

%                 <h2>ADD PRODUCT HERE :</h2>
%                 <label> Product Name</label>
%                 <input className="form-control" type="text"  value={pname} onChange={(e) => {setpname(e.target.value)}}/>
%                 <label> Product Description </label>
%                 <input className="form-control" type="text"  value={pdesc} onChange={(e) => {setpdesc(e.target.value)}}/>
%                 <label> Product Prize </label>
%                 <input className="form-control" type="text"  value={price} onChange={(e) => {setprize(e.target.value)}}/>
%                 <label> Product Category </label>
%                 <input className="form-control" type="text"  value={category} onChange={(e) => {setcategory(e.target.value)}}/>
%                 <select className="form-control"value={category} onChange={(e) => {setcategory(e.target.value)}}>
%                     <option> Book</option>
%                     <option> Newspaper </option>
%                     <option> Bottle </option>
%                     <option> Bucket</option>
%                     <option> Clothes </option>
%                 </select>
%                 <label> Product Image </label>
%                 <input className="form-control" type="file" onChange={(e) => {setpimg(e.target.files[0])}}/>
%                 <button onClick={handleApi} className="btn btn-primary mt-3"> Sumbit </button>
%             </div>
%         </div>
%     );
% }
% export default AddProduct;    
okh for tody see yoju tommroew

% v=28:51 /kh t=18;16

we back now ..
for react npm start
for node npm run dev

@-@

# Node js

go to index.js for addurl of add product..

after that same changes
% app.post('/add-product', (req, res) => {
%     console.log("Product Data:", req.body);
%     console.log("Uploaded File:", req.file);

%     // Ensure response is sent
%     res.json({ message: "Product added successfully!", data: req.body, file: req.file });
% });

now go back in add product and give url like send request on localhost 4000


image data pass the we use multer
so install npm multer:- npm install multer

% copy paste const multer = require('multer'); //in index.js
% const multer = require('multer');
% const storage = multer.diskStorage({
%   destination: function (req, file, cb) {
%     cb(null, 'uploads')
%   },
%   filename: function (req, file, cb) {
%     const uniqueSuffix = Date.now() + '-' + Math.round(Math.random() * 1E9)
%     cb(null, file.fieldname + '-' + uniqueSuffix)
%   }
% })

% const upload = multer({ storage: storage })


copy paste siimple propsse and create a uploads folder in inside node folder

copy paste : upload.single('uploaded_file')
paste after adddproduct url in index.js


now lets see the file which we upload on frontend run part will display and save in uploads folder ok..... so click on react-app o/p sumbit button......

after solving error the finally our 1 error solve and file get uploaded..

v= 38.13... t=1:35

[Object: null prototype] {
  pname: 'bottle',
  pdesc: 'used bottle we can reuse themm',
  price: '10 per kg',
  category: 'Bottle'
}
{
  fieldname: 'pimg',
  originalname: 'bottle.jpg',
  encoding: '7bit',
  mimetype: 'image/jpeg',
  destination: 'uploads',
  filename: 'pimg-1740769272320-247812759.jpg',
  path: 'uploads\\pimg-1740769272320-247812759.jpg',
  size: 17519
}


% this type of data we get in output to after upload so we dne with this so go with v..

so image come in api but not in dtabase so for that go in database
we 
index.js changes in console log of aap.post of add product
is after .file//.path


%creating databse for add product to store that data like store copy paste code of like we made or user same and same changes

.code
% const Products = mongoose.model('Products', { pname: String, pdesc:String, price:String, category:String, pimg:String});

% app.post('/add-product',upload.single('pimg'),(req,res)=>{
%     console.log(req.body)
%     console.log(req.file.path)
%     const pname  = req.body.pname;
%     const pdesc  = req.body.pdesc;
%     const price  = req.body.price;
%     const category  = req.body.category;
%     const pimg  = req.file.path;

%     const product = new Products({ pname, pdesc, price, category, pimg});
%     product.save()
%     .then(() => {
%       res.send({message : 'Product is Saved'})
%     })
%     .catch(() => {
%     res.send({message: 'Server Error'});  
%     });

% })

indexjs changes after data store in dtabase..
% this for after postt the dtaa get data in frontend

app.get('/det-products',(req,res)=>{
  Products.find()//findall
  .then((result)=>{
    console.log(result, "product data")
    res.send({message:"succesfully saved.."})
  })
  .catch((err)=>{
    res.send({message:"server err"})
  })
})

% add after app.post()
ann go and check it on local:4000/get-products
% so as msg we get a sucessfully saved

so anoher chnages in smae code in res.send after sucessfulyy saved add one line ,products:result
.code chnagee in line
    res.send({message:"succesfully saved.." //, products : result})


output....
{"message":"succesfully saved..","products":[{"_id":"67c217bf065de8f7be516bb1","pname":"Used newspaper","pdesc":"reusable for any work like what you want","price":"15.rs  per kg ","category":"Newspaper","pimg":"uploads\\pimg-1740773311207-283373932.jpg","__v":0}]}

-------------------------------------------------

% so now we work on like after user add product or login onther user then th eproduct need to show on home pagefor unlog person can also seee

for futher user admin seller role...ü§∑‚Äç‚ôÇÔ∏è


@-@

# REact page

home.jsx

use effect with empty array


 useEffect(() => {
    const url = 'http://localhost:4000/get-products';
    axios.get(url)
    .then((res)=>{
      console.log(res)
    })
    .catch((err)=>{
      console.log(err)
    })
  })

  % automatically show in webpageterminal.. api data

%   //creating stae for products
%   const[products,setproducts] =useState([]);

%  useEffect(() => {
%     const url = 'http://localhost:4000/get-products';
%     axios.get(url)
%     .then((res)=>{
%       console.log(res)
%       if(res.data.products)
%       {
%         setproducts(res.data.products);
%       }
%     })
%     .catch((err)=>{
%       console.log(err)
%       alert("server error")
%     })
%   })

simple changes to run and save data and showm on fntend every product..

in...
Home.jsx..

      <h2> My Product </h2>

      {products && products.length > 0 && 
      products.map((item,index) => (
        <div className="card m-3">
          <img src = {item.pimg} />
          <p className='p-2'>{ item.pname } | { item.category } </p>
          <p className='p-2' text-text-sucess>{ item.pdesc }</p>
          <p className='p-2' text-text-sucess>{ item.price }</p>
        </div>
      ))}


some changes simpply we dooo and image task is on the way so solve that lets see

so fro checking copy image url for terminal/console from wbapg but nothing get happen so for solution we go on chatgpt and copy some type of to get 




@-@

# Node js
index.js

const path = require('path');
% add this on top
app.use('/uploads',express.static(path.join(__dirname, 'uploads')))
% addd this in middle. 
this is for to showm image in frottend and used as a small idea

% now go on frotend and just copy url and / at end add in frotend i home.jsx



@-@

# REact page
homepage.jsx


          <img src = { 'http://localhost:4000/ ' + item.pimg} />
%  ERROR IS SIMPLE A SPACE AFTER / SO BE CAREFULL NEXT TIME..

%  SO IN OUTPUT WE GET PRODUCT IMG , PRICE ,DESCRIPATION ETC....

2/03/25

home.jsx
% fix height and width of image  by 400px and 200px
.code line
      %   {products && products.length > 0 && 
      % products.map((item,index) => (
      %   <div className="card m-3">
      %     <img width="500px" height="200px"  src = { 'http://localhost:4000/' + item.pimg} />
      %     <p className='p-2'>{ item.pname } | { item.category } </p>
      %     <p className="p-2 text-success">{ item.pdesc }</p>
      %     <p className="p-2 text-success">{ item.price }</p>
      %   </div>

add one more div after h2 tag of my product..üò≠
      % <div className='d-flex justify-content-center flex-wrap'>

so restrication for add product to only login user ...
home.jsx
% cpopy token  code and paset inside link tag
  {localStorage.getItem('token') && <Link to="/add-product"> ADD PRODUCT </Link>}
% so simple we cannot access home page now if we logiut or new user?

  % // useEffect(() => {
  % //   if (!localStorage.getItem('token')) {
  % //     navigate('/login')
  % //   }
  % // }, [])

% after commenting this code we get a home page without login so now we dont get an add product option or api

% so now changes in css in classname remove p-3 //padding and change in prize shift above and dec came down simple prize changein succes vis dangerr.
  % <div>
  %     <Header />
  %     {localStorage.getItem('token') && <Link to="/add-product"> ADD PRODUCT </Link>}

  %     <div className='d-flex justify-content-center flex-wrap'>
  %     {products && products.length > 0 &&
  %       products.map((item) => (
  %         <div className="card m-3">
  %           <img width="500px" height="200px" src={'http://localhost:4000/' + item.pimg} />
  %           <p className='m-2 '>{item.pname} | {item.category} </p>
  %           <p className="m-2 text-danger">{item.price}</p>
  %           <p className="m-2 text-success">{item.pdesc}</p>
  %         </div>
  %       ))}
  %      </div>
  %   </div>
  % );

  all changes in code home.jsx soo simpl as that css part we can chnage ass

  so after adding product we need to redirect the oage so for that we to doo

copy a line navigate wali for login.jsx and come in add product.jsx file and after  url .then condition console ke ntre writeeee...
.code part

%  const url = 'http://localhost:4000/add-product';
%         axios.post(url, fromData)
%             .then((res) => {
%                 console.log(res)
%                 if (res.data.message) {
%                     alert(res.data.message)
%                     navigate('/')
%                 }
%             })
%             .catch((err) => {
%                 console.log(err)
%             })

%     }

% addproduct.jsx

now we can render on home page after changes or add product 

3-3-25
% fronrtend
% Header.jsx...............

code line..
% creating serach bar.............
<_-------------------------------------------_>
%  {/* code line for search barrrr */}
%             <input className="search" type="text" />
%             <button className="search-btn">SEARCH</button>


% header.css for search bar and search button 
<---------------------------------------------->
% .search{
%     margin-left: 20px;
%     outline: none;
%     padding-left: 10px;
%     width: 200px;
%     height: 35px;
%     border: 2px solid #002f34;
%     border-radius: 5px 0px 0px 5px;
% }
% .search-btn{
%     height: 35px;
%     background: #002f34;
%     color: #fff;
%     border-radius: 0px 5px 5px 0px;
%     outline: none; /*like this none for remove default funda on outline */
%     border: none;  
% }

üëçüëçüëçüëç

next we need to workon serach like we search for anything na so we need to ridrect orget that product..

s we used props in header 
code.
% header.jsx
%  <input className="search" 
%             type="text"
%             value={props && props.search}
%             onChange={(e) => props.handlesearch && props.handlesearch(e.target.value)}
            
%             />
to check the value in output search bar will shows or pass in home page header as same or not 
% home.jsx

      % <Header search={'omom'} />
% so as this is same beause of props so now handle search get reamining 

i use din home and handle in header
  % homee.jsx

  % const [search, setsearch] = useState('hhh');

  %  const handlesearch = (value) => {
  %   setsearch(value);
  % }

      % <Header search={search} handlesearch={handlesearch} />

% header.jsx ............. button
        % <button className="search-btn" onClick={() => props.handleClick && props.handleClick()}>SEARCH</button>


% home.jsx
% const handleClick = () => {
%     console.log('clcik');
%   }
      % <Header search={search} handlesearch={handlesearch} handleClick={handleClick} />

% so now talk about product so get by api from that simple api url change or directly on ibnside const.

24.09 t = 1.56
% home.jsx

  % const handleClick = () => {
  %   console.log('producttt', products);
  %   let filteredProducts = products.filter((item) => {
  %     if (item.pname.includes(search) || item.pdesc.includes(search)|| item.category.includes(search)) {
  %       return item;
  %     }
  %   })
  %   setproducts(filteredProducts)
  % }


% this above code change in includes and filer wala part for  chaeck product is present or not and then serach 
üëçüëçüëçüëçüëçüëç


so now if write on search bar in lower cas that condition what to do?
% so change in code add after the pname or any aother a toLowerCase()

% item.pname.toLowerCase().includes(search) || item.pdesc.includes(search)|| item.category.includes(search)) 

% so we done with search part..........üò≠üò≠üò≠üò≠

% so now just removethe sell and purchanse text fro headerü§∑‚Äç‚ôÇÔ∏è

<---------------------------------------------------------->
‚öíÔ∏è‚öíÔ∏è‚öíÔ∏è‚öíÔ∏è
% now search bar and button and logout to align at place of that like center and left side for that
so we divide into divvvv
% so in header.jsx
% changes in header fro fix it by adding headr cntainer in namde of first div in heder.jsx
% <div className="header-container d-flex justify-content-between"> ..htme/react part
% .header-container{
%     box-shadow: rgba(50, 50, 93, 0.25) 0px 30px 60px -12px inset, rgba(0, 0, 0, 0.3) 0px 18px 36px -18px inset;
%     padding: 10px 20px;

% }........................css part

üîßüîß

now botton syle for logout as lik search button...üé®
give class name to logout button and same css copy paste fpor logout as search


üîë creating unique key for child
% so go in home.jsx and chaneg in dicv by creating a key inside of that....after return beacuse its not rendering after changeing the word in search barr

% creating category section by using inide compoents we crearte category sectionnnn üõ†Ô∏è
copy heder code and paset in categoriess
import React from "react";
import { Link, useNavigate } from "react-router-dom";
// import { Link } from "react-router-dom";
function Categories(props) {


  return (
    <div className="cat-container d-flex justify-content-between">
      <div>A</div>
      <div>B</div>
    </div>
  );
}
export default Categories;
% after changes this code and more change in code i will paste after words
call caotegorie components in home.jsx 
so after that change classnmae and just we can right in header.css to the code od css of coategories

% stop for toda v=44.00 and t = 03.04üõë
commit the codee..üñãÔ∏è

3325
% run backend first and go for frontend the..
% open mongodb and connect api and go on...

% simply to get product we need towrite in backend a /get-product okh.......

call catgory in home
<Categories />
so we dont need to register in router because we are not using in router so no required..


% so where does the cateogries come from so for that
save it array by creating a file...

% so simple writing code we need categories soo we goo to check how many categories in the ist..
////categories.js file

% let Categories = [  'Book' , 'Newspaper' , 'Bottle' , 'Bucket' , 'Clothes' , 'Sale', 'Old  Fans' ]

% export default Categories;

so simppe this code i right in this we can get by api or store in database 
so used this categories in where in Categories.jsx fileüé≠

% before that rename the js file with CategoriesList.js
import categories from "./CategoriesList.js";
function Categories(props) {


  return (
    <div className="cat-container d-flex justify-content-between">
      <div>A</div>
      <div>
        { categories && categories.length > 0 &&
        categories.map((item, index) => {
           return (
             <span> kkk</span>
           );
        })}
      </div>
    </div>
  );
}
export default Categories;
% change in code so span one part return kk for product is many that time its givee..

.code line 
                % <span className="category"> {item} </span>
changes to get item which i pass in array...

now go in header.css to styling of categoriesüé®


% header.css changes..üé®
.category{
    color: rgba(0, 47, 12, 1);
    padding: 7px;
    cursor: pointer;
}

% now change in classnmae of Categories.jsx 
  return (
    <div className="cat-container">
      <div>
        <span className="p-3"> All Categories </span>
        {categories && categories.length > 0 &&
          categories.map((item, index) => {
            return (
              <span key={index} className="category"> {item} </span>
            );
          })}
      </div>
    </div>
  );
}

% now header.css changes in code copy header-conatiner and paste and cange in cat-ontiner üé®
.cat-container{
    box-shadow: rgba(50, 50, 93, 0.25) 0px 30px 60px -12px inset, rgba(0, 0, 0, 0.3) 0px 18px 36px -18px inset;
    padding: 10px 20px;
}

% üîßüîßüîßüîßüîßüîßüîßüîßüîßüîßüîßüîßüîß
now work on whenb we click on any categories it will shows that only shoo no go on ...üõ†Ô∏è

% go to categories.jsx

   <span onClick={() => props.handleCategory && props.handleCategory(item)} key={index} className="category"> {item} </span>

   after that where we used categorie sgo on that folder and change itt..
  %  go to home.jsx

 const handleCategory = (value) =>{
  console.log(value,"v")
 }
    <Categories handleCategory ={handleCategory} />

%  we getting after click the console but not the apge of that categories so gon categories.jsx to check in span..

so we used filter single filterüò≠
% so for that we go on home.jsx step 1
% now copy filtered data which we created for search step 2
% and paste in home.jsx after that product caotegory 
% some changes we required filter so used one only..

 const handleCategory = (value) => {
    console.log(value, "v")
    let filteredProducts = products.filter((item) => {
      if (item.category.toLowerCase() == (search.toLowerCase())) {
        return item;
      }
    })
    setproducts(filteredProducts)
  } 


üî•üî•üî•üî•üî•üî•üî•üî• so go and check 

% no ficx eeror come not showig on console to solve we required
% the both on search and  categories

so mind blowing erroe which is like when you cloick on categories in first like eg book u render to that paricular ystem but after you u try to go agiin on same categories its not showing.. so slution following code...üò≠üò≠üò≠üò≠üò≠

4;3;25 t = 23;57
the raeson: 
ki for before changing for one products thats why its not switiching so solutio i simple below code:


.code 
import { useEffect, useState } from 'react';
import Header from './Header';
import Categories from './Categories';
import { useNavigate, Link } from 'react-router-dom';
import axios from 'axios';

function Home() {

  const navigate = useNavigate()

  //creating stae for products
  const [products, setproducts] = useState([]);
  const [cproducts, setcproducts] = useState([]);
  const [search, setsearch] = useState("");

  // for not acces home page without login thi useeffrct is used..
  // useEffect(() => {
  //   if (!localStorage.getItem('token')) {
  //     navigate('/login')
  //   }
  // }, [])
  useEffect(() => {
    const url = "http://localhost:4000/get-products";
    axios
      .get(url)
      .then((res) => {
        if (res.data.products) {
          setproducts(res.data.products);
        }
      })
      .catch((err) => {
        alert("server error")
      });
  }, []);

  const handlesearch = (value) => {
    setsearch(value);
  }
  const handleClick = () => {
    let filteredProducts = products.filter((item) => {
      console.log(item)
      if (item.pname.toLowerCase().includes(search.toLowerCase()) ||
        item.pdesc.toLowerCase().includes(search.toLowerCase()) ||
        item.category.toLowerCase().includes(search.toLowerCase())) {
        return item;
      }
    })
    setproducts(filteredProducts)
  }

  const handleCategory = (value) => {
    let filteredProducts = products.filter((item,index) => {
      if (item.category == value ) {
        return item;
      }
    })
    setcproducts(filteredProducts)
  }


  return (
    <div>
      <Header search={search} handlesearch={handlesearch} handleClick={handleClick} />
      <Categories handleCategory={handleCategory} />
      {localStorage.getItem('token') && <Link to="/add-product"> ADD PRODUCT </Link>}

      <h5>SEARCH PRODUCTS : </h5>

      <div className='d-flex justify-content-center flex-wrap'>
        {cproducts && products.length > 0 &&
          cproducts.map((item, index) => {
            return (
              <div key={item._id} className="card m-3" >
                <img width="500px" height="200px" src={'http://localhost:4000/' + item.pimg} />
                <p className='m-2 '>{item.pname} | {item.category} </p>
                <p className="m-2 text-danger">{item.price}</p>
                <p className="m-2 text-success">{item.pdesc}</p>
              </div>
            )
          })}
      </div>
        <h5>ALL RESULTS : </h5>

        <div className='d-flex justify-content-center flex-wrap'>
          {products && products.length > 0 &&
            products.map((item, index) => {
              return (
                <div key={item._id} className="card m-3" >
                  <img width="500px" height="200px" src={'http://localhost:4000/' + item.pimg} />
                  <p className='m-2 '>{item.pname} | {item.category} </p>
                  <p className="m-2 text-danger">{item.price}</p>
                  <p className="m-2 text-success">{item.pdesc}</p>
                </div>
              )
            })}
        </div>
    </div>
  );
}
export default Home;    

chnage in handle category and add copy paste the ustatste of product and cprodct and then changes in div whole copy pate again and searched and all result divide simple....üòÇüòÇüòÇüòÇüòÇ

but we solved categories errro but not serach so for that.... after one typng second time arraty get empty to solved them below changes in code..
% this data can fetch by writing line of code or just fetch code from backend........

% hnadle clicked :     setproducts(filteredProducts) #before
%     setcproducts(filteredProducts) #after

% removed the console.log..........
from all filessss

now 2 worked is done now work on third likeee..
1. search wala
2.categorie 

3like in next seesion 

before that we work on backend to fetch data from to categories
if products are les then they need ftech from frotend if its more than it need to be fetch frm backrend....

% nexst process on icon 
search on online : react icons

------------terminal-------------
install:-npm install react-icons //inside react floder
2. go documentataion page : linküîó :[text](https://react-icons.github.io/react-icons/)
3.search for heart on linkdocumentation
4.copy and go to home.jsx
now where we ant to shownon product 
in  code import it and used it so simple i gie code line:
used in first div before img tag... 


errar faced so solevd itt...
import { FaHeart} from 'react-icons/fa';
                  <FaHeart className='icons'/>//inside both serached all result div bedore imae tahg..


% go to App.css

üöÄ : so server and applicatiin want to restarat because whenever you ad sometghong or package so it need to 

5325..
% so app.css for iicons in home 
so go again 4 v
.icons{
  font-size: 32px;
  height:32px;
  width: 332px;
  color: rgb(245, 240, 240);

}
now go in home.jsx and just add style insid the  <FaHeart className='icons'/>/tag
% waht simply we do is changes inside div tag used itt and div give a name icons-container
% .cod line
 <div className="icons-conatiner">
     <FaHeart style={{ color: 'red', fontSize: '32px' }} />
</div>
% so we creating home.css for styling on home....
% and import in home.jsxüôèüôè

so now what is happen we crerate a file for home styling so now...
delete style from above as we define now we jsut 

home.css
.icons{
    font-size: 32px;
    height:32px;
    width: 32px;
    color: rgb(245, 240, 240);
}
.icons-conatiner{
  position : absolute;
    top : 0;
    right: 0;
    border-radius: 50%;
    padding: 7px;
    background-color: #fff; 
    margin: 7px
}

so after this changes what actually we did is just changes in styling add like butoon in  eft side and cool it all funda looks fiffernt afterward we do when clickwd its color change into red..

  .icon:hover{
    color: red
  }
add before icon-container

% now styling on links....
.links{
    text-decoration: none;
    font-size: 24px;
    color: #002f34;
    font-weight: bold;
}
/* for this give the link clasname as links */ = header.jsx add button and add top lets see...

now add product ko button bante hai bhaii..= home.jsx
   {!!localStorage.getItem('token') && <Link to="/add-product"><button className='logout-btn'>ADD PRODUCT</button>  </Link>}

% cut this line and paste inside the header after secod last div  and go to header.cs logout-btn css and changes in margin...üò≠
‚úÖ‚úÖ‚úÖ‚úÖ
.logout-btn{
    height: 35px;
    background: #002f34;
    color: #fff;
    border-radius: 5px ;
    outline: none; /*like this none for remove default funda on outline */
    border: none;  
    padding: 1px 16px;
    margin-right: 10px;
}//header.css
      <div>
      {!!localStorage.getItem('token') && 
      <Link to="/add-product"><button className='logout-btn'>ADD PRODUCT</button>  
      </Link>}

        {!localStorage.getItem('token') ?
          <Link to='/login'> LOGIN </Link> :
          <button className="logout-btn" onClick={handleLogout}> LOGOUT </button>}
      </div>//header.jsx


5 v work is when we clicked on liked its goes in backend and save....!!
7325.......
% so work on add to fav wala ig and the when we clicked on product we go that page okh.. + css changes
% run server both side üëçüëçüëçüëçüëçüëçüëçüëç

% go node folder inside that index.js and check what things user ahve..........addlik product in that.. so go on code line will paste here...... //-is indicates the changes in code.

[{ type : mongoose.Schema.Types.Objects,ref:'Products'}]// this tell as type of mongoose is schenma which objectid save objeect id which created by mongo..type of objectid
so simple we picked up for here for product if we need more so popluated itt..

% in const partüìù
const Users = mongoose.model('Users', 
  { username: String, 
    password: String,
    // likedProducts : [{type : mongoose.Schema.Types.Objects,ref:'Products'}]
  });  // we are creating a model


% post üìù

app.post('liked-product', (req ,res) =>{
    let productId = req.body.productId;
    let userId = req.body.userId;

    //update user model
    Users.updateOne({_id: ObjectId( userId )} ,{$addToSet : { likedProducts : productId }})
    .then(() => {
      res.send({message : 'Liked successfully'})
    })
    .catch(() => {
    res.send({message: 'Server Error'});  
    });
})


<!-- Api is ready hit them from frontend in home.jsx... üì¶-->
now simple to do ki in fav product div onclicked an othr work go in that...
<!-- 
     <div onClick={handleLike} className="icons-conatiner">
                  <FaHeart className='icons' />
                </div>
              this onclied change in both  -->

 const handleLike = () => {
    console.log('user id', 'product id')
  }
<!-- normal to checked its working or nott..... -->

<!-- after sloving a small error  we go to the  -->
now get it..

<!-- as simple we get product id in output console okh  -->
<div onClick={() => handleLike(item._id)} className="icons-conatiner">
                  <FaHeart className='icons' />
                </div>


 const handleLike = (productId) => {
    console.log('user id', 'product id',productId)
  }

<!-- changes in code onclied and in console and () -->

<!-- now again logout go to knowm user id we go on index.jsand check login api -->
<!-- so simple when user login how we save token  like that user id saved when use rlogin --> for that chanegs in login.jsx to 

<!-- index.js login post wala else part
        res.send({message : 'User found',token:token , userId : result._id}) //user data found
 -->

 <!-- login.jsx 
 in const dat username name etc secon if part
 localStorage.setItem('userId',res.data.userId); -->
<!-- now after changes we go to login again to get user id with tokeen  -->

/////<!-- so check that go in output console  , next go in appliction next in right side click on console option etc and go on...... you can se your taken and userId ‚úÖ-->////

/////so we want in home page so we go to on home.jsx and changes in code line ..............

 const handleLike = (productId) => {
    /let userId = localStorage.getItem('userId')
    /console.log('user id', 'product id',productId,userId)
  }

<!-- changes in code / so simple as that and no sent to api  -->
<!-- index.js  
app.post('/liked-product', (req ,res) =>{
-->

changes in code 
<!-- home.jsx 
const handleLike = (productId) => {
    let userId = localStorage.getItem('userId');
    console.log('user id', 'product id',productId,userId);
    const url = "http://localhost:4000/liked-product";
    const data = { userId , productId } // same things so not required to write double productId:prooduict..
    axios.post(url,data)
      .then((res) => {
        if (res.data.products) {
          setproducts(res.data.products); // chaneg in the codee 
          before this check in console.log(res)
        }
      })
      .catch((err) => {
        alert("server error")
      });

  }
 -->


 <!-- remove all console in index.js to not required ‚ùå‚ùå -->

 <!-- index.jss 
   
    console.log(req.body)
    return; 
    to check it getting or not in output consolee......  in terminal of nod also .. -->
    <!-- now when we cliked in liked w eget wjolwe data iof product like din output console.......
    {data: {‚Ä¶}, status: 200, statusText: 'OK', headers: AxiosHeaders, config: {‚Ä¶},¬†‚Ä¶}config: {transitional: {‚Ä¶}, adapter: Array(3), transformRequest: Array(1), transformResponse: Array(1), timeout: 0,¬†‚Ä¶}data: {message: 'Liked successfully'}headers: AxiosHeaders¬†{content-length: '32', content-type: 'application/json; charset=utf-8'}request: XMLHttpRequest¬†{onreadystatechange: null, readyState: 4, timeout: 0, withCredentials: false, upload: XMLHttpRequestUpload,¬†‚Ä¶}status: 200statusText: "OK"[[Prototype]]: Object -->



 <!-- yes we are getting it so go in mongo to checked we are getting the liked dat in mongo to......... üì°-->

<!-- so now go aND CREAT A NEW USER TO GET LIKED PRODCUTR ARRAY ...........üíæ.. -->
remove all user to get again anew data , remove console.log in index.js üß™

<!-- remove condole log from hom.jsx to after  handle liked coonst next wala -->
 axios.post(url,data)
      .then((res) => {
        if (res.data.message) {
          alert('Liked')
        }
      })üöÄüöÄ

<!-- now check in like dis okh . -->
<!-- Liked product created to saved all liked product so create inside comonents -->
@-@

# REact page

// copy home page coe to paste inside this okh üòä
<!-- liked products in same as homepage bas like  liked product save dther eso do it some changes okhhhh -->
 
<!-- first render in index.js in react-app -->
{
    path: "/liked-products",
    element: (<LikedProducts/>),
  },
  <!-- after adding this line inside the index.js we get an good virw after in out put in chages add /after locl host... -->
[text](http://localhost:3000/liked-products)üîó

<!-- liked.jsx 
 useEffect(() => {
    const url = "http://localhost:4000/liked-products";
    axios 
    it give an error : because nothing inside that... -->


@-@

# Node js
index.js

<!-- chnages get-products  with liked-product
app.get('/liked-products', (req, res) => {
  Users.find() -->
  copy paset get prooduct api..first ?
froms user we search how many dta and teh n likedproduct wali ali

<!-- .code changes

app.get('/liked-products', (req, res) => {
  Users.find({_id: req.body.userId}).populate('likedProducts')
    .then((result) => {
      res.send({ message: "succesfully saved..", products: result.likedProducts})
    })
    .catch((err) => {
      res.send({ message: "server err" })
    })
})
 -->

after the raect code chnages\ change sin react code to ge only result in post api
and change in find with findOne
@-@

# REact page


likedproducts.jsx

let data = { userId : localStorage.getItem('userId)}
axios.post(url,data)// change in code line

<!-- errror to update mongo  -->
solved we get ouput as fav in /liked-product
<!-- so created a link foor like product  in header -->
<!-- go to Hedaer.jsx -->
/////

<!-- copy paste code of add produt ig some lne chages -->


////////now work on 4 product s show in line 
<!-- home.jsx -->
<!-- change image width and height eith 250px and 150px chnage in txt of prize 
             </div>
                <img width="300px" height="200px" src={'http://localhost:4000/' + item.pimg} />
                <p className="m-2 price-text"> Rs.{item.price} /</p>
                <p className='m-2 '>{item.pname} | {item.category} </p>
                <p className="m-2 text-success">{item.pdesc}</p>
              </div>-->
hardcoded Rs. and ..../
  <p className="m-2 price-text"> Rs.{item.price} /-</p>

<!-- in home.css//////// -->
.price-text{
    color: #002f34;
    font-size: larger;//
    font-weight: 700;// this two my lines
}

<!-- chnages in header background  -->
<!-- go heade.cc in header-conatiner/// -->
.header-container{
    box-shadow: rgba(50, 50, 93, 0.25) 0px 30px 60px -12px inset, rgba(0, 0, 0, 0.3) 0px 18px 36px -18px inset;
    padding: 10px 20px;
    background-color: #002f3400;
    border-bottom: 3px solid #fff;
}
.cat-container{
    box-shadow: 0 1px 4px 0 rgba(0,0,0,.1);
    padding: 8px 20px;
}

<!-- and in serach button and input 
.search{
    margin-left: 80px;
    outline: none;
    padding-left: 10px;
    width: 400px;//
    height: 44px;//
    border: 2px solid #002f34;
    border-radius: 5px 0px 0px 5px;
}
.search-btn{
    height: 44px;//
    background: #002f34;
    color: #fff;
    border-radius: 0px 5px 5px 0px;
    outline: none; /*like this none for remove default funda on outline */
    border: none;  
} -->


<!-- button changes  go t raect-icons -->
<!-- go to header.jsx -->


<!-- now we need detailed page  -->
create ProductDetail.jsx
and add in raact-app
index.js 
call /productdetail
index.js
{
    path: "/product/:id",
    element: (<ProductDetail/>),
  },
<!-- output -->
[text](http://localhost:3000/product/22)
shows waht you sasve inside function

<!-- go to home.jsx -->

 <div onClick={handelProduct} key={item._id} className="card m-3" >
 changes in code line and set in const before all return..............
<!-- changes -->

  <div onClick={() => handleLike(item._id)} className="icons-conatiner">

<!-- sett
const handelProduct = (id) =>{
  navigate('/product/'+id)
} -->

so when you clicked on home page you get product get by id by ommmom 

<!-- go to product-detail  -->
 const p = useParams()
    console.log(p) //add and we get id and console.log..
<!-- change in index.js in id only with productId -->

o/p:- {productId: '67c359b97b3486487638f62f'}productId: "67c359b97b3486487638f62f"[[Prototype]]: Object in console of output

    console.log(p.productId)
<!-- so we are getting prodduct id and id okh  -->
<!-- /////////////////////////////////////////////////////////////////// -->

<!-- now we want to send it to backend  -->

<!-- go to productDetail.jsx -->

    useEffect(() => {
        const url = "http://localhost:4000/get-product" + p.productId;
        axios
            .get(url)
            .then((res) => {
               console.log(res)
            })
            .catch((err) => {
                alert("server error")
            });
    }, []);
    //copy by home page its show in errro because  not call in backend so go in node index.js



@-@

# Node js
index.js
copy get-product and pste in next
<!-- r product detail
app.get('/get-product',(req,res)=>{
  console.log(req.params)
  
  Products.find()//findall
  .then((result)=>{
    res.send({message:"succesfully saved.." , products : result})
  })
  .catch((err)=>{
    res.send({message:"server err"})
  })
}) -->

<!-- and go to product deatil and solve erroor whic axiso import -->

index.js
app.get('/get-product/:id',(req,res)=>{

  Products.findOne( {  _id :req.params.pId } )

@-@

# REact page

80525....
        const url = "http://localhost:4000/get-product/" + p.productId;
<!-- inside Product -->

ouput we get id...../////////.

<!-- after changing each we go to inspect in output by in urllocalhost:3000/product and by inscept go to network and go in preview to check ......... -->

afetr ouput get it 


<!-- ProductDetail.jsx --> from singl product will be show
show that product and sav it innn


futher dettailsss

dupariiiii 1hrs wasssssssssste to solve error
<!-- so new code update to show the product as output -->

import { useParams } from "react-router-dom";
import { useEffect, useState } from "react";
import axios from "axios";
import Header from './Header';
function ProductDetail() {

    const [product, setproduct] = useState()
    const p = useParams()

    useEffect(() => {
        const url = "http://localhost:4000/get-product/" + p.productId;
        axios.get(url)
            .then((res) => {
                if (res.data.product) {
                    setproduct(res.data.product)
                }
            })
            .catch((err) => {
                alert("server error")
            });
    }, []);

    return (
        <>
            <Header />
            <div>
                PRODUCT DETAILS :
                {product && <div className="d-flex justify-content-between flex-wrap">
                    <div>
                        <img width="700px" height="300px" src={'http://localhost:4000/' + product.pimg} alt="" />
                        <h6>PRODUCT DETAIL:</h6>{product.pdesc}
                    </div>
                    <div>
                        <p className="m-2 price-text"> Rs.{product.price} /-</p>
                        <p className='m-2 '>{product.pname} | {product.category} </p>
                        <p className="m-2 text-success">{product.pdesc}</p>
                        {/* go  to home.jx for p tag */}
                    </div>
                </div>}
            </div >
        </>
    )
}

export default ProductDetail;

<!-- next v we afre need to fetch contact detail and address baa bal -->
<!-- for tha when we add product we go with user id to be save...... -->
<!-- one admin usr have a power that he can can remove or block spam user -->


d-80325,v=6  
<!-- so we make a search api we are searching locally before now take it from baceknd okh....... -->


work on product deatail all categories././././././
<!-- addd product ask for 2 image in addig  -->

@-@

# Node js
index.js

<!-- now/../ working search api
 -->


app.get('/search', (req,res) => {

  let query =  req.query;

  Products.find()
  .then((result) =>{
    res.send({message:'success', product:result})
  })
  .catch((err) =>{
    res.send({message: ' server error in search '})
  })
});

after home.jsx change in codde down we error not show just pass query we write 
index.js
//for search
app.get('/search', (req,res) => {

  let query =  req.query;
  console.log(query);
  return;



@-@

# REact page

home.jsx

  const handleClick = () => {
    
    const url = 'http://localhost:4000/search?search=' + search ;
    axios.get(url)
    .then((res) => {
      console.log(res.data)
    })
    .catch((err) => {
      alert("server error")
    });

    // let filteredProducts = products.filter((item) => {
    //   if (item.pname.toLowerCase().includes(search.toLowerCase()) ||
    //     item.pdesc.toLowerCase().includes(search.toLowerCase()) ||
    //     item.category.toLowerCase().includes(search.toLowerCase())) {
    //     return item;
    //   }
    // })
    // setcproducts(filteredProducts)


  }


@-@

# Node js
index.js

in momdodb query we want to add something we used $

.code
app.get('/search', (req, res) => {
  let search = req.query.search;
  Products.find({
    $or: [
      {pname: { $regex: search} },
      {pdesc: { $regex: search} },
      {price: { $regex: search}},
    ]
  })
    .then((result) => {
      res.send({ message: 'success', product: result })
    })
    .catch((err) => {
      res.send({ message: ' server error in search ' })
    })
});
so thse work in backend api to fetch it . so we search in output we get a product in network etc..


@-@

# REact page

chagne in code line ...

because we not able tosee in search product so for that we work with that and change the below line 
axios.get(url)
    .then((res) => {
      setcproducts(res.data.products);


<!-- 
solve the error of results in index .js and home.js is about products to product..
index.js :  .then((results) => {
      res.send({ message: 'success', product: results })
home.jsx: axios.get(url)
    .then((res) => {
      setcproducts(res.data.product)
 -->


during writeing the code be careefully in wordssss..



<!-- now work on switch like show only search and all product diffret  -->
<!-- home.jsx -->


      {search && cproducts && <h5>SEARCH RESULT : </h5>}
      {search && cproducts && cproducts.length == 0 && <h5> No Result found......... </h5>}

      {search && (
        <>
          <div className='d-flex justify-content-center flex-wrap'>
            {cproducts && products.length > 0 &&
              cproducts.map((item, index) => {

above line of code is for changes in wehen only search it need to work

<!-- supper duper cool -->

shift + {} to ad in selected code 

<!-- last dicv in home.jsx changes wohh for remove all result and differntin serarch and all rsukt aotoimatically in chnage in code... -->
      {!issearch && <div className='d-flex justify-content-center flex-wrap'>
        {products && products.length > 0 &&
          products.map((item, index) => {
            return (
              <div onClick={() => { handelProduct(item._id) }} key={item._id} className="card m-3" >
                <div onClick={() => handleLike(item._id)} className="icons-conatiner">
                  <FaHeart className='icons' />
                </div>
                <img width="300px" height="200px" src={'http://localhost:4000/' + item.pimg} />
                <p className="m-2 price-text"> Rs.{item.price} /-</p>
                <p className='m-2 '>{item.pname} | {item.category} </p>
                <p className="m-2 text-success">{item.pdesc}</p>
              </div>
            )
          })}
      </div>}


now addd option clear result..
<!-- changes after search resulut divvvvvvvvvv
  {issearch && cproducts && <
        h5>SEARCH RESULT :
        <button className="clear" onClick={()=> setissearch(false)}> CLEAR </button>
         </h5>}-->

<!-- home.css clear-btn working for css so we seee
 -->
next 28;12 category workkkkk...















































































































































["üòÇ", "‚ù§Ô∏è", "ü§£", "üëç", "üò≠", "üôè", "üòç", "ü•∞", "üòä", "ü§î", 
 "üíï", "üòò", "üòÖ", "ü§ó", "ü§©", "üíñ", "üíØ", "üéâ", "ü•∫", "ü§∑‚Äç‚ôÇÔ∏è" 
 üíª üöÄ üêõ üîß üìù üì¶ ‚öôÔ∏è üíæ üñ•Ô∏è üì° üîç üìú ‚è≥ üî• üö¶ üîë üõ†Ô∏è üìä 
 üîÑ üí£ ‚úÖ ‚ùå üé® ‚ö° üèóÔ∏è üåê üèÜ üõë ü§ñ üì°üîÑ üèÅ üèÖ üñäÔ∏è üîó  üõú 
 üéØ üéõÔ∏è üß© üîÉ üè∑Ô∏è üí°  üñ•Ô∏è üé≠ üìå üßë‚Äçüíª üõ†Ô∏è üåÄ üîê üèéÔ∏è üìÅ üß™ üïµÔ∏è‚Äç‚ôÇÔ∏èüåü 
 üìú üèóÔ∏è üñ±Ô∏è üóÇÔ∏è üöÄ üéõÔ∏è üñãÔ∏è üì∂ ‚öíÔ∏è üè¥‚Äç‚ò†Ô∏è üîç üß¨ üéöÔ∏è üñß üíæ üóÉÔ∏è ‚öñÔ∏è üï∞Ô∏è ]